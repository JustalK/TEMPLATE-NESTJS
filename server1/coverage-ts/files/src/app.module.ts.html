
  <!DOCTYPE html>
  <html>
    <head>
      <title>app.module.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/app.module.ts</td><td class="">97.73%</td><td class="">90%</td><td class="">88</td><td class="">86</td><td class="">2</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import &#x27;reflect-metadata&#x27;;
import &#x27;es6-shim&#x27;;
import { Module } from &#x27;@nestjs/common&#x27;;
import { AppController } from &#x27;@src/app.controller&#x27;;
import { AppService } from &#x27;@src/app.service&#x27;;
import { MongooseModule } from &#x27;@nestjs/mongoose&#x27;;
import { ConfigModule, ConfigService } from &#x27;@nestjs/config&#x27;;
import { GraphQLModule } from &#x27;@nestjs/graphql&#x27;;
import { ApolloDriver, ApolloDriverConfig } from &#x27;@nestjs/apollo&#x27;;
import { ThrottlerGuard, ThrottlerModule } from &#x27;@nestjs/throttler&#x27;;
import configuration from &#x27;@shared/configs/configuration&#x27;;
import { WinstonModule } from &#x27;nest-winston&#x27;;
import { WinstonOptionService } from &#x27;@shared/configs/services/winston-option.service&#x27;;
import { ThrottlerConfigService } from &#x27;@shared/configs/services/throttler-config.service&#x27;;
import { UsersModule } from &#x27;@modules/users/users.module&#x27;;
import { AuthModule } from &#x27;@modules/auth/auth.module&#x27;;
import { JwtAuthGuard } from &#x27;@modules/auth/guards/jwt-auth.guard&#x27;;
import { APP_GUARD } from &#x27;@nestjs/core&#x27;;
import { NODE_ENV_TEST } from &#x27;@shared/constants/string&#x27;;

let conditionalModules = [];
if (process.env.NODE_ENV !== NODE_ENV_TEST) {
  conditionalModules = [
    MongooseModule.forRoot(
      `mongodb://${process.env.MONGO_INITDB_ROOT_USERNAME}:${process.env.MONGO_INITDB_ROOT_PASSWORD}@mongodb:${process.env.MONGO_PORT}/${process.env.MONGO_INITDB_DATABASE}?authSource=admin`,
    ),
  ];
}

@Module({
  imports: [
    ...conditionalModules,
    ConfigModule.forRoot({
      load: [configuration],
      isGlobal: true,
    }),
    ThrottlerModule.forRootAsync({
      imports: [ConfigModule],
      useClass: ThrottlerConfigService,
    }),
    GraphQLModule.forRoot&lt;ApolloDriverConfig&gt;({
      driver: ApolloDriver,
      debug: true,
      playground: true,
      autoSchemaFile: &#x27;schema.gql&#x27;,
      context: ({ req }) =&gt; ({ req }),
    }),
    WinstonModule.forRootAsync({
      imports: [ConfigModule],
      useClass: WinstonOptionService,
      inject: [ConfigService],
    }),
    AuthModule,
    UsersModule,
  ],
  controllers: [AppController],
  providers: [
    AppService,
    {
      provide: APP_GUARD,
      useClass: JwtAuthGuard,
    },
    {
      provide: APP_GUARD,
      useClass: ThrottlerGuard,
    },
  ],
})
export class AppModule {}
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/app.module.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:18,&quot;text&quot;:&quot;req&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/app.module.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:31,&quot;text&quot;:&quot;req&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Fri, 01 Jul 2022 19:28:46 GMT</p>
    </body>
  </html>
  